---
sidebar_position: 10
---

# 宏使用节点 (Macro-Use)

*Macro-Use*（宏使用）是组织项目的非常方便的工具。这种节点类型允许在其他普通场景中重放我们称为宏的可重用场景，次数不限。

它们唯一需要的参数是 `macro` UID。为方便起见，Macro-Use 检查器提供按名称排列的所有可用宏列表（按底层 UID 排序，通常反映创建时间）。

### 约定

+ Macro-Use 是自动节点：它不等待用户交互。

+ 被跳过的实例不会播放其宏，只是继续到其唯一的出站槽。

+ 如果正在使用的宏正常结束（即 EOL），父场景将从连接到容器 Macro-Use 唯一出站槽的下一个节点继续。

+ 如果包含的宏在内部播放 [Jump](./jump)，它保持被包含状态。

+ 如果包含的宏在外部跳转到另一个场景中的节点，它会中断容器，就好像宏已结束，但播放该目标节点而不是容器 Macro-Use 的出站槽。

### 使用

宏（可以存在于其他场景中的场景）从*检查器*面板中的自己选项卡创建。要在任何其他场景中（重新）使用它们，请创建一个 Macro-Use 节点并从节点检查器提供的列表中选择所需宏的名称。

在网格节点上 `Alt + 双击` 打开编辑器中的宏（场景）。

宏最常见的用途之一是让它们充当函数或可重复的复杂检查点。想象一下您有一个有很多战斗场景的游戏，您需要检查玩家是否还活着。您可以创建一个[变量](../getting-started/variables-logic)或[角色](../getting-started/characters)标签来跟踪玩家的 `health` 状态或 HP，每次战斗后更新。然后创建一个宏来检查 `health` 是否低到了地狱。根据健康状态，这个宏可能跳转到游戏结束场景，或者什么都不做并结束分支（EOL），让游戏从使用检查宏的地方正常继续。

这是一个相对简单的检查，只有几个节点。随着您的项目及其功能复杂性的增长，宏和 Macro-Use 将证明更加有用。例如，当您想将战斗逻辑本身或其评分也移入函数中时（检查是否有 Boss，根据交换的伤害更新健康、耐力和技能分数等）。

### 另请参阅

+ [项目组织](../getting-started/project-organization)
+ [导航和剧情管理](../getting-started/navigation-plot)
+ [跳转 (Jump)](./jump)
    > 链接不同场景上的节点并在它们之间独立跳转。
